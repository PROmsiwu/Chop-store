<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chop Zit VIP | Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { background: #050505; color: white; font-family: 'Cairo', sans-serif; }
        .neon-text { color: #00ffcc; text-shadow: 0 0 10px rgba(0,255,204,0.3); }
        .vip-card { background: #0f0f0f; border: 1px solid #222; border-radius: 15px; overflow: hidden; transition: 0.3s; }
        .modal { position: fixed; inset: 0; z-index: 100; background: #000; display: none; padding: 15px; overflow-y: auto; }
        .modal.active { display: block; }
        .btn-buy { background: #00ffcc; color: #000; font-weight: 900; padding: 10px; border-radius: 8px; width: 100%; display: block; text-align: center; font-size: 12px; }
        .price-badge { background: rgba(0, 255, 204, 0.1); border: 1px solid #00ffcc; color: #00ffcc; padding: 2px 8px; border-radius: 5px; font-size: 10px; }
    </style>
</head>
<body>

    <header class="p-4 flex justify-between items-center border-b border-zinc-900 sticky top-0 bg-black/90 backdrop-blur-md z-50">
        <div class="neon-text font-black text-xl">CHOP ZIT VIP</div>
        <div class="text-right"><span id="user-balance" class="text-[#00ffcc] font-bold">0 ğŸª™</span></div>
    </header>

    <main class="p-4 space-y-6">
        <div class="grid grid-cols-2 gap-4">
            <div onclick="openPage('hacks')" class="vip-card p-4 text-center border-red-500/20 cursor-pointer active:scale-95">
                <span class="text-3xl">ğŸš€</span>
                <p class="font-bold text-xs mt-2">Ø§Ù„Ù‡Ø§ÙƒØ§Øª</p>
            </div>
            <div onclick="openPage('games')" class="vip-card p-4 text-center border-blue-500/20 cursor-pointer active:scale-95">
                <span class="text-3xl">ğŸ®</span>
                <p class="font-bold text-xs mt-2">Ø´Ø­Ù† Ø£Ù„Ø¹Ø§Ø¨</p>
            </div>
        </div>

        <h3 class="text-xs text-zinc-500 font-bold border-r-2 border-[#00ffcc] pr-2 uppercase">Ø£Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø¶Ø§ÙØ©</h3>
        <div id="latest-offers" class="grid grid-cols-2 gap-3">
            </div>
    </main>

    <div id="page-modal" class="modal">
        <div class="flex justify-between items-center mb-6">
            <h2 id="modal-title" class="neon-text font-black"></h2>
            <button onclick="closePage()" class="text-white bg-zinc-800 px-4 py-1 rounded-full text-xs">Ø±Ø¬ÙˆØ¹</button>
        </div>
        <div id="offers-grid" class="grid grid-cols-2 gap-3 pb-20">
            </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBA7Fqc6f2tgDNqa7lomWHZljzBuxLSSL8",
            authDomain: "projectfghh.firebaseapp.com",
            databaseURL: "https://projectfghh-default-rtdb.firebaseio.com",
            projectId: "projectfghh"
        };

        const db = getDatabase(initializeApp(firebaseConfig));
        const MY_WHATSAPP = "201012345678"; // <--- Ø¶Ø¹ Ø±Ù‚Ù…Ùƒ Ù‡Ù†Ø§ Ø¨Ø¯ÙˆÙ† Ø£ØµÙØ§Ø± Ø£Ùˆ Ø¹Ù„Ø§Ù…Ø© +

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø¸Ù…
        function renderOffers(data, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            Object.values(data).forEach(item => {
                const message = encodeURIComponent(`Ù…Ø±Ø­Ø¨Ø§Ù‹ Chop ZitØŒ Ø£Ø±ÙŠØ¯ Ø´Ø±Ø§Ø¡: ${item.title}`);
                container.innerHTML += `
                    <div class="vip-card border-zinc-800">
                        <img src="${item.image}" class="w-full h-32 object-cover">
                        <div class="p-3">
                            <h4 class="text-[11px] font-black truncate mb-2">${item.title}</h4>
                            <div class="flex flex-col gap-1 mb-3">
                                <span class="price-badge w-fit">${item.priceCoins} ğŸª™</span>
                                <span class="text-[9px] text-zinc-400 font-bold">${item.priceCash} ${item.currency}</span>
                            </div>
                            <a href="https://wa.me/${MY_WHATSAPP}?text=${message}" class="btn-buy">Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†</a>
                        </div>
                    </div>`;
            });
        }

        // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        onValue(ref(db, 'CHOP_VIP/offers'), snap => {
            const all = snap.val() || {};
            // Ø¯Ù…Ø¬ ÙƒÙ„ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            const combined = {...all.hacks, ...all.games};
            renderOffers(combined, 'latest-offers');
        });

        window.openPage = (type) => {
            document.getElementById('modal-title').innerText = type === 'hacks' ? 'Ù‚Ø³Ù… Ø§Ù„Ù‡Ø§ÙƒØ§Øª' : 'Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨';
            document.getElementById('page-modal').classList.add('active');
            onValue(ref(db, 'CHOP_VIP/offers/' + type), snap => {
                renderOffers(snap.val() || {}, 'offers-grid');
            });
        };

        window.closePage = () => document.getElementById('page-modal').classList.remove('active');
    </script>
</body>
</html>
